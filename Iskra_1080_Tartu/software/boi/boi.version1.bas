5 CLS
15 G1=0:G2=0:U=0:OUT 144,13:OUT 145,3:OUT 147,0
25 T1=10:T2=10
35 GOSUB 1045
45 LOCATE 10,3:PRINT"Прошу размеры поля для игры"
55 LOCATE 10,4:PRINT"/поле-квадрат со стороной"
65 LOCATE 17,5:PRINT"от 3 до 8/"
75 W=USR(51187):W=W-48:R=W:PRINT R
85 IF R<3 OR R>8 THEN GOTO 105
95 GOTO 135
105 LOCATE 10,7:PRINT"Будьте внимательнее!"
115 LOCATE 10,8:PRINT"Исправьте!"
125 GOTO 45
135 FOR I=1 TO  R:FOR J=1 TO  R
145 A$(I,J)=".":B$(I,J)="."
155 NEXT J,I
165 CLS
175 GOSUB 1045
185 GOSUB 1515
195 GOSUB 1395
205 GOSUB 1695
215 GOSUB 1555
225 LOCATE 3,6:PRINT"Прошу ввести корабли"
235 FOR I=1 TO  R
245 LOCATE 5,8:PRINT I;"корабль"
255 LOCATE 5,10:PRINT"строка  ?";:GOSUB 1965:N=WW
265 LOCATE 5,11:PRINT"столбец ?";:GOSUB 1965:L=WW 
275 LOCATE 5,10:PRINT"             "
285 LOCATE 5,11:PRINT"             "
295 U=U+N+L
305 IF A$(N,L)="." THEN GOTO 325
315 LOCATE 5,11:PRINT"(";N;L;") УЖЕ СТОИТ !!!   ":GOTO 245
325 GOSUB 1055
335 A$(N,L)="$"
345 GOSUB 1055
355 GOSUB 1775
365 NEXT I:LOCATE 5,9:PRINT"            "
375 LOCATE 0,3
385 FOR I=1 TO  10:PRINT"                     ":NEXT I
395 REM *** korabli ***
405 LOCATE 6,6:PRINT"Ставлю свои корабли "
415 GOSUB 1345
425 FOR I=1 TO R
435 GOSUB 1285
445 IF B$(N,L)="." THEN GOTO 465
455 GOTO 435
465 B$(N,L)="$"
475 NEXT I
485 LOCATE 1,3:FOR I=1 TO  12:PRINT"                             ":NEXT I
495 LOCATE 2,12:PRINT"Ну что?Начнем ?!"
505 W=USR(51187) 
515 GOSUB 1735
525 LOCATE 4,5:PRINT"       счет         "
535 LOCATE 2,7:PRINT"   человек машина      "
545 LOCATE 0,10:PRINT"                      "
555 LOCATE 2,12:PRINT"                         "
565 LOCATE 2,11:PRINT"Ваш выстрел          "
575 LOCATE 2,13:PRINT"строка ?";:GOSUB 1965:N=WW
585 LOCATE 2,14:PRINT"столбец ?";:GOSUB 1965:L=WW
595 FOR I=1 TO 9:LOCATE 1,10+I:PRINT"                              ":NEXT I
605 GOTO 635
615 GOSUB 1825
625 GOTO 565
635 IF B$(N,L)="." THEN GOTO 675
645 IF B$(N,L)="$" THEN GOTO 685
655 GOSUB 1825
665 GOTO 565
675 B$(N,L)="+"  :GOTO 695
685 B$(N,L)="*"
695 FOR I=1 TO 2
705 GOSUB 1345
715 GOSUB 1195
725 GOSUB 1345
735 NEXT I
745 IF B$(N,L)="*" THEN GOTO 775
755 GOSUB 1855
765 GOTO 825
775 G1=G1+1
785 GOSUB 1735
795 IF G1=R THEN GOTO 1915
805 GOSUB 1835
815 GOTO 565
825 LOCATE 2,17:PRINT"Мой выстрел"
835 GOSUB 1285
845 IF A$(N,L)="." THEN GOTO 875
855 IF A$(N,L)="$" THEN GOTO 875
865 GOTO 835
875 LOCATE 2,19:PRINT N;"-";L
885 IF A$(N,L)="$" THEN GOTO 905
895 A$(N,L)="+":GOTO 915
905 A$(N,L)="*"
915 FOR I=1 TO  3
925 GOSUB 1345
935 GOSUB 1055
945 GOSUB 1345
955 NEXT I
965 IF A$(N,L)="*" THEN GOTO 995
975 GOSUB 1895
985 GOTO 565
995 G2=G2+1
1005 GOSUB 1735
1015 IF G2=R THEN GOTO 1945
1025 GOSUB 1875
1035 GOTO 825
1045 LOCATE 20,1:PRINT"^^^^^^^МОРСКОЙ БОЙ^^^^^^^^^":RETURN
1055 REM
1065 LOCATE 5,5
1075 FOR Y=1 TO  N
1085 PRINT
1095 NEXT Y
1105 PRINT:IF A$(N,L)="*" THEN GOTO 1125
1115 LOCATE 43+L*2,3+N:PRINT A$(N,L):RETURN
1125 INVERSE:LOCATE 43+L*2,3+N:PRINT A$(N,L):NORMAL
1135 RETURN
1145 LOCATE 2,2
1155 FOR Y=1 TO N:PRINT;:NEXT Y 
1165 PRINT
1175 LOCATE 43+L*2,15:PRINT" " 
1185 RETURN
1195 REM
1205 IF B$(N,L)="*" THEN GOTO 1210
1206 LOCATE 43+L*2,14+N:PRINT B$(N,L):RETURN
1210 INVERSE:LOCATE 43+L*2,14+N:PRINT B$(N,L):NORMAL
1215 RETURN 
1225 LOCATE 43+L*2,14+N:PRINT" "
1235 RETURN
1245 LOCATE 7,8
1255 FOR Y=1 TO 5:PRINT"                          ":NEXT Y
1265 LOCATE 7,8
1275 RETURN
1285 REM
1295 N=INT(RND(1)*R)
1305 L=INT(RND(1)*R)
1315 N=N+1
1325 L=L+1
1335 RETURN
1345 REM
1355 FOR Y=1 TO 20
1365 I=I
1375 NEXT Y
1385 RETURN
1395 REM
1405 FOR I=1 TO  R:LOCATE 42+2*I,2:PRINT I;:NEXT I
1415 LINE (265,35)-(12*R+270,35),1
1425 FOR I=1 TO  R
1435 LOCATE 41,3+I:PRINT I;
1445 FOR J=1 TO  R
1455 PRINT" ";A$(I,J);
1465 NEXT J,I
1475 LINE (265,35)-(265,35+12*R),1
1485 LINE (265,35+12*R)-(12*R+270,12*R+35),1
1495 LINE (12*R+270,12*R+35)-(12*R+270,35),1:PAINT (266,36),2
1505 RETURN
1515 LOCATE 31,5:PRINT"Ваше"
1525 PRINT TAB(31);"поле"
1535 PRINT TAB(31);"==> " 
1545 RETURN
1555 REM 
1565 FOR I=1 TO  R:LOCATE 42+I*2,14
1575 PRINT I;
1585 NEXT I
1595 LINE (265,149)-(12*R+270,149),3
1605 FOR I=1 TO R
1615 LOCATE 41,14+I:PRINT I;
1625 FOR J=1 TO R
1635 PRINT" ";B$(I,J);
1645 NEXT J,I
1655 LINE (265,149)-(265,12*R+144),3
1665 LINE (265,12*R+144)-(12*R+270,12*R+144),3
1675 LINE (12*R+270,12*R+144)-(12*R+270,149),3:PAINT (266,150),2
1685 RETURN
1695 LOCATE 31,17:PRINT"Мое "
1705 PRINT TAB(31);"поле" 
1715 PRINT TAB(31);"==>"
1725 RETURN
1735 REM
1745 LOCATE 6,8:PRINT G1
1755 LOCATE 16,8:PRINT G2
1765 RETURN
1775 REM
1785 FOR Y=1 TO U
1795 X=RND(1)
1805 NEXT Y
1815 RETURN
1825 RETURN
1835 LOCATE 17,21:PRINT"ПОПАЛ !!!    ":FOR A=10 TO 50:BEEP A,200:OUT 145,6:OUT 145,6:OUT 145,3:NEXT A 
1845 RETURN
1855 LOCATE 17,21:PRINT"МИМО !!!        "
1865 RETURN
1875 LOCATE 17,21:PRINT"УРА ! ПОПАЛА !!!  ":FOR B=10 TO 50:BEEP B,200:OUT 145,6:OUT 145,6:OUT 145,3:NEXT B
1885 RETURN
1895 LOCATE 17,21:PRINT"ИЗВИНИТЕ         " 
1905 RETURN
1915 CLS: LOCATE 12,6:PRINT"ЧЕЛОВЕК ПОБЕДИЛ  !!!"
1925 LOCATE 15,8:PRINT"счет  ";G1;"-";G2
1935 END
1945 CLS:LOCATE 12,6:PRINT"ВЫ ПРО...ДУЛИ!!!":LOCATE 17,8:PRINT"счет";G1;"-";G2
1955 END
1965 WW=USR(51187):WW=WW-48
1975 IF WW<1 OR WW>R THEN GOTO 1965
1985 PRINT WW:RETURN
